commit 2dacdc5eb0171078eeb96b12b0761f533a62f70e
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sun Nov 27 17:22:22 2016 +0100

    hurd: fix using hurd/signal.h in C++ programs
    
            * hurd/hurd/signal.h (HURD_MSGPORT_RPC): Cast expressions results to
            error_t to fix usage in C++ programs.

diff --git a/hurd/hurd/signal.h b/hurd/hurd/signal.h
index 85e5152..96f42d5 100644
--- a/hurd/hurd/signal.h
+++ b/hurd/hurd/signal.h
@@ -340,18 +340,18 @@ extern mach_msg_timeout_t _hurd_interrupted_rpc_timeout;
     do									      \
       {									      \
 	/* Get the message port.  */					      \
-	__err = (fetch_msgport_expr);					      \
+	__err = (error_t) (fetch_msgport_expr);				      \
 	if (__err)							      \
 	  break;							      \
 	/* Get the reference port.  */					      \
-	__err = (fetch_refport_expr);					      \
+	__err = (error_t) (fetch_refport_expr);				      \
 	if (__err)							      \
 	  {								      \
 	    /* Couldn't get it; deallocate MSGPORT and fail.  */	      \
 	    __mach_port_deallocate (__mach_task_self (), msgport);	      \
 	    break;							      \
 	  }								      \
-	__err = (rpc_expr);						      \
+	__err = (error_t) (rpc_expr);					      \
 	__mach_port_deallocate (__mach_task_self (), msgport);		      \
 	if ((dealloc_refport) && refport != MACH_PORT_NULL)		      \
 	  __mach_port_deallocate (__mach_task_self (), refport);    	      \
