2008-05-10  Aurelien Jarno  <aurelien@aurel32.net>

	* sysdeps/hppa/fpu/fesetenv.c: bufptr is always read, temp is
	read while writing back status word.

Index: b/ports/sysdeps/hppa/fpu/fesetenv.c
===================================================================
--- a/ports/sysdeps/hppa/fpu/fesetenv.c	2008-08-08 19:08:25.000000000 +0200
+++ b/ports/sysdeps/hppa/fpu/fesetenv.c	2008-08-08 19:08:49.000000000 +0200
@@ -35,7 +35,7 @@
   bufptr = temp.buf;
   __asm__ (
 	   "fstd,ma %%fr0,8(%1)\n"
-	   : "=m" (temp), "+r" (bufptr) : : "%r0");
+	   : "=m" (temp) : "r" (bufptr) : "%r0");
 
   temp.env.__status_word &= ~(FE_ALL_EXCEPT
 			    | (FE_ALL_EXCEPT << 27)
@@ -56,7 +56,7 @@
      is loaded last and T-Bit is enabled. */
   __asm__ (
 	   "fldd,mb -8(%1),%%fr0\n"
-	   : "=m" (temp), "+r" (bufptr) : : "%r0" );
+	   : : "m" (temp), "r" (bufptr) : "%r0" );
 
   /* Success.  */
   return 0;
